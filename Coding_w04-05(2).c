#include <stdio.h>

void countCall() {
    int counter = 0;  //ตัวแปรจะถูกสร้างใหม่ทุกครั้งที่เรียกใช้งานฟังก์ชัน
    counter++;
    printf("Call function: counter = %d\n", counter);
}

int main() {
    printf("Starting function calls...\n");
    countCall();
    printf("After first call:\n");
    countCall();
    return 0;
}
//1) ผลลัพธ์ที่ได้:
// Starting function calls...
// Call function: counter = 1
// After first call:
// Call function: counter = 1
// เพราะตัวแปร counter ถูกสร้างใหม่ทุกครั้งที่เรียกฟังก์ชัน ทำให้ค่าถูกรีเซตเป็น 0 ตลอด
//
// 2) ความแตกต่างของ Non-static:
// Non-static variable จะถูกสร้างและทำลายใหม่ทุกครั้งที่เข้า-ออกฟังก์ชัน
// จึงไม่สามารถเก็บค่าครั้งก่อนหน้าไว้ได้
//
// 3) อภิปรายและสรุป:
// เมื่อใช้ตัวแปรแบบ non-static จะไม่สามารถนับค่าต่อเนื่องระหว่างการเรียกฟังก์ชันได้
// ดังนั้นหากต้องการเก็บค่าต่อเนื่อง (เช่น ตัวนับจำนวนครั้งที่เรียก) ควรใช้ static variable
//
//สรุปบทเรียน 
//จากการทดลองพบว่า ตัวแปร static จะสามารถจำค่า จากการเรียกฟังก์ชันครั้งก่อนหน้าได้ ส่วน mon-static จะลืมค่าทุกครั้ง
//ถ้าเราต้องการให้ตัวแปรจำค่าเดิมไว้ข้ามรอบของ ฟังก์ชัน ต้องใช้ static
//การเลือกใช้ static หรือไม่ static จึงมีผลกับการ ทำงานของโปรแกรมโดยตรง โดยเฉพาะเมื่อต้องการ เก็บสถานะหรือตัวนับในฟังก์ชัน